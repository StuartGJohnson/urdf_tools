<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from ugv.xacro                      | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="differential_drive_robot_4wheel">
  <!-- Aluminum -->
  <!-- Rubber -->
  <!-- Aluminum -->
  <!-- aluminum -->
  <!-- plastic-->
  <!-- plastic-->
  <!-- plastic-->
  <!-- Links -->
  <link name="base_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.24 0.12 0.06"/>
      </geometry>
      <material name="base_link_material">
        <color rgba="0.0 0.0 0.0 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.24 0.12 0.06"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="4.6655999999999995"/>
      <inertia ixx="0.006998399999999998" ixy="0.0" ixz="0.0" iyy="0.023794559999999996" iyz="0.0" izz="0.027993599999999993"/>
    </inertial>
  </link>
  <link name="battery_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.095 0.19 0.027"/>
      </geometry>
      <material name="battery_link_material">
        <color rgba="0.25 0.25 0.25 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.095 0.19 0.027"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="1.315845"/>
      <inertia ixx="0.00403843795875" ixy="0.0" ixz="0.0" iyy="0.0010695626775" iyz="0.0" izz="0.004948125468749999"/>
    </inertial>
  </link>
  <link name="orin_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.11 0.11 0.072"/>
      </geometry>
      <material name="orin_link_material">
        <color rgba="0.45 0.45 0.45 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.11 0.11 0.072"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="2.3522399999999997"/>
      <inertia ixx="0.00338800968" ixy="0.0" ixz="0.0" iyy="0.00338800968" iyz="0.0" izz="0.004743683999999999"/>
    </inertial>
  </link>
  <link name="lidar_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.038 0.038 0.035"/>
      </geometry>
      <material name="lidar_link_material">
        <color rgba="0.0 0.0 0.0 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.038 0.038 0.035"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.045486"/>
      <inertia ixx="1.01168445e-05" ixy="0.0" ixz="0.0" iyy="1.01168445e-05" iyz="0.0" izz="1.0946963999999999e-05"/>
    </inertial>
  </link>
  <link name="camera_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.024 0.09 0.025"/>
      </geometry>
      <material name="camera_link_material">
        <color rgba="0.7 0.7 0.7 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.024 0.09 0.025"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.048600000000000004"/>
      <inertia ixx="3.533625e-05" ixy="0.0" ixz="0.0" iyy="4.8640500000000005e-06" iyz="0.0" izz="3.5137799999999994e-05"/>
    </inertial>
  </link>
  <link name="gps_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.025 0.042 0.008"/>
      </geometry>
      <material name="gps_link_material">
        <color rgba="1.0 1.0 1.0 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.025 0.042 0.008"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.007560000000000001"/>
      <inertia ixx="1.1516400000000002e-06" ixy="0.0" ixz="0.0" iyy="4.3407000000000013e-07" iyz="0.0" izz="1.5050700000000004e-06"/>
    </inertial>
  </link>
  <link name="left_wheel_link">
    <visual>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
      <!-- roll = pi/2 -->
      <geometry>
        <cylinder length="0.042" radius="0.039"/>
      </geometry>
      <material name="left_wheel_link_material">
        <color rgba="0.1 0.1 0.1 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
      <!-- roll = pi/2 -->
      <geometry>
        <cylinder length="0.042" radius="0.039"/>
      </geometry>
      <surface>
        <friction>
          <ode>
            <mu>1.5</mu>
            <mu2>0.5</mu2>
            <slip1>0.1</slip1>
            <slip2>0.3</slip2>
          </ode>
        </friction>
        <bounce/>
        <contact>
          <ode>
            <kp>1000.0</kp>
            <kd>10.0</kd>
          </ode>
        </contact>
      </surface>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.1806220997069609"/>
      <inertia ixx="0.00013736310682714375" ixy="0.0" ixz="0.0" iyy="9.523300207049513e-05" iyz="0.0" izz="9.523300207049513e-05"/>
    </inertial>
  </link>
  <link name="right_wheel_link">
    <visual>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
      <!-- roll = pi/2 -->
      <geometry>
        <cylinder length="0.042" radius="0.039"/>
      </geometry>
      <material name="right_wheel_link_material">
        <color rgba="0.1 0.1 0.1 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
      <!-- roll = pi/2 -->
      <geometry>
        <cylinder length="0.042" radius="0.039"/>
      </geometry>
      <surface>
        <friction>
          <ode>
            <mu>1.5</mu>
            <mu2>0.5</mu2>
            <slip1>0.1</slip1>
            <slip2>0.3</slip2>
          </ode>
        </friction>
        <bounce/>
        <contact>
          <ode>
            <kp>1000.0</kp>
            <kd>10.0</kd>
          </ode>
        </contact>
      </surface>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.1806220997069609"/>
      <inertia ixx="0.00013736310682714375" ixy="0.0" ixz="0.0" iyy="9.523300207049513e-05" iyz="0.0" izz="9.523300207049513e-05"/>
    </inertial>
  </link>
  <link name="left_wheel2_link">
    <visual>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
      <!-- roll = pi/2 -->
      <geometry>
        <cylinder length="0.042" radius="0.039"/>
      </geometry>
      <material name="left_wheel2_link_material">
        <color rgba="0.1 0.1 0.1 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
      <!-- roll = pi/2 -->
      <geometry>
        <cylinder length="0.042" radius="0.039"/>
      </geometry>
      <surface>
        <friction>
          <ode>
            <mu>1.5</mu>
            <mu2>0.5</mu2>
            <slip1>0.1</slip1>
            <slip2>0.3</slip2>
          </ode>
        </friction>
        <bounce/>
        <contact>
          <ode>
            <kp>1000.0</kp>
            <kd>10.0</kd>
          </ode>
        </contact>
      </surface>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.1806220997069609"/>
      <inertia ixx="0.00013736310682714375" ixy="0.0" ixz="0.0" iyy="9.523300207049513e-05" iyz="0.0" izz="9.523300207049513e-05"/>
    </inertial>
  </link>
  <link name="right_wheel2_link">
    <visual>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
      <!-- roll = pi/2 -->
      <geometry>
        <cylinder length="0.042" radius="0.039"/>
      </geometry>
      <material name="right_wheel2_link_material">
        <color rgba="0.1 0.1 0.1 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
      <!-- roll = pi/2 -->
      <geometry>
        <cylinder length="0.042" radius="0.039"/>
      </geometry>
      <surface>
        <friction>
          <ode>
            <mu>1.5</mu>
            <mu2>0.5</mu2>
            <slip1>0.1</slip1>
            <slip2>0.3</slip2>
          </ode>
        </friction>
        <bounce/>
        <contact>
          <ode>
            <kp>1000.0</kp>
            <kd>10.0</kd>
          </ode>
        </contact>
      </surface>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.1806220997069609"/>
      <inertia ixx="0.00013736310682714375" ixy="0.0" ixz="0.0" iyy="9.523300207049513e-05" iyz="0.0" izz="9.523300207049513e-05"/>
    </inertial>
  </link>
  <link name="base_footprint">
    <inertial>
      <mass value="0.000001"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="1e-6" ixy="0" ixz="0" iyy="1e-6" iyz="0" izz="1e-6"/>
    </inertial>
  </link>
  <link name="camera_optical_link"/>
  <!-- Joints -->
  <joint name="base_footprint_joint" type="fixed">
    <parent link="base_footprint"/>
    <child link="base_link"/>
    <origin rpy="0 0 0" xyz="0 0 0.051000000000000004"/>
  </joint>
  <!-- Left Wheel Joint -->
  <joint name="left_wheel_joint" type="continuous">
    <origin rpy="0 0 0" xyz="-0.08099999999999999 0.08700000000000001 -0.012"/>
    <parent link="base_link"/>
    <child link="left_wheel_link"/>
    <axis xyz="0 1 0"/>
    <limit effort="100" velocity="100.0"/>
    <dynamics damping="1.0" friction="0.1"/>
  </joint>
  <!-- Right Wheel Joint -->
  <joint name="right_wheel_joint" type="continuous">
    <origin rpy="0 0 0" xyz="-0.08099999999999999 -0.08700000000000001 -0.012"/>
    <parent link="base_link"/>
    <child link="right_wheel_link"/>
    <axis xyz="0 1 0"/>
    <limit effort="100" velocity="100.0"/>
    <dynamics damping="1.0" friction="0.1"/>
  </joint>
  <!-- Left Wheel2 Joint -->
  <joint name="left_wheel2_joint" type="continuous">
    <origin rpy="0 0 0" xyz="0.08099999999999999 0.08700000000000001 -0.012"/>
    <parent link="base_link"/>
    <child link="left_wheel2_link"/>
    <axis xyz="0 1 0"/>
    <limit effort="100" velocity="100.0"/>
    <dynamics damping="1.0" friction="0.1"/>
  </joint>
  <!-- Right Wheel2 Joint -->
  <joint name="right_wheel2_joint" type="continuous">
    <origin rpy="0 0 0" xyz="0.08099999999999999 -0.08700000000000001 -0.012"/>
    <parent link="base_link"/>
    <child link="right_wheel2_link"/>
    <axis xyz="0 1 0"/>
    <limit effort="100" velocity="100.0"/>
    <dynamics damping="1.0" friction="0.1"/>
  </joint>
  <!-- battery joint -->
  <joint name="battery_joint" type="fixed">
    <origin rpy="0 0 0" xyz=".007 0 0.049499999999999995"/>
    <parent link="base_link"/>
    <child link="battery_link"/>
  </joint>
  <!-- orin joint -->
  <joint name="orin_joint" type="fixed">
    <origin rpy="0 0 0" xyz=".010 0 0.055499999999999994"/>
    <parent link="battery_link"/>
    <child link="orin_link"/>
  </joint>
  <!-- lidar joint -->
  <joint name="lidar_joint" type="fixed">
    <origin rpy="0 0 0" xyz="-.045 0 0.0595"/>
    <parent link="orin_link"/>
    <child link="lidar_link"/>
  </joint>
  <!-- camera joint -->
  <joint name="d435_joint" type="fixed">
    <origin rpy="0 0.6108666666666667 0" xyz="0.079 0 0.003499999999999996"/>
    <parent link="orin_link"/>
    <child link="camera_link"/>
  </joint>
  <!-- optical frame ${-3.1415927/2} 0 ${-3.1415927/2} -->
  <joint name="camera_optical_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="camera_link"/>
    <child link="camera_optical_link"/>
  </joint>
  <!-- gps joint -->
  <joint name="gps_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0.034 -0.076 -0.015999999999999997"/>
    <parent link="orin_link"/>
    <child link="gps_link"/>
  </joint>
  <!-- Gazebo Parameters -->
  <!--
    <gazebo reference="base_link">
        <mu1>1.0</mu1>
        <mu2>0.5</mu2>
        <slip1>0.1</slip1>
        <slip2>0.2</slip2>
    </gazebo>

    <gazebo reference="right_wheel_link">
        <mu1>1.0</mu1>
        <mu2>0.5</mu2>
        <slip1>0.1</slip1>
        <slip2>0.2</slip2>
    </gazebo>

    <gazebo reference="left_wheel_link">
        <mu1>1.0</mu1>
        <mu2>0.5</mu2>
        <slip1>0.1</slip1>
        <slip2>0.2</slip2>
    </gazebo>

    <gazebo reference="right_wheel2_link">
        <mu1>1.0</mu1>
        <mu2>0.5</mu2>
        <slip1>0.1</slip1>
        <slip2>0.2</slip2>
    </gazebo>

    <gazebo reference="left_wheel2_link">
        <mu1>1.0</mu1>
        <mu2>0.5</mu2>
        <slip1>0.1</slip1>
        <slip2>0.2</slip2>
    </gazebo>
    -->
  <!-- Gazebo Plugins -->
  <gazebo>
    <plugin filename="gz-sim-diff-drive-system" name="gz::sim::systems::DiffDrive">
      <right_joint>right_wheel_joint</right_joint>
      <left_joint>left_wheel_joint</left_joint>
      <right_joint>right_wheel2_joint</right_joint>
      <left_joint>left_wheel2_joint</left_joint>
      <wheel_separation>0.28188</wheel_separation>
      <wheel_radius>0.039</wheel_radius>
      <max_linear_acceleration>10</max_linear_acceleration>
      <odom_publish_frequency>100</odom_publish_frequency>
      <topic>cmd_vel</topic>
      <odom_topic>odom</odom_topic>
      <frame_id>odom</frame_id>
      <child_frame_id>base_footprint</child_frame_id>
      <tf_topic>/tf</tf_topic>
    </plugin>
    <plugin filename="gz-sim-joint-state-publisher-system" name="gz::sim::systems::JointStatePublisher">
      <topic>joint_states</topic>
      <joint_name>right_wheel_joint</joint_name>
      <joint_name>left_wheel_joint</joint_name>
      <joint_name>right_wheel2_joint</joint_name>
      <joint_name>left_wheel2_joint</joint_name>
    </plugin>
    <!-- <plugin filename="gz-sim-pose-publisher-system"  name="gz::sim::systems::PosePublisher">
            <publish_model_pose>true</publish_model_pose>
            <use_pose_vector_msg>true</use_pose_vector_msg>
            <update_frequency>-1</update_frequency>
        </plugin> -->
  </gazebo>
  <!-- Gazebo sensors -->
  <gazebo reference="camera_link">
    <sensor name="color_camera" type="rgbd_camera">
      <pose>0.0 0.0 0 0 0 0</pose>
      <always_on>true</always_on>
      <visualize>true</visualize>
      <update_rate>30</update_rate>
      <topic>/camera</topic>
      <gz_frame_id>camera_optical_link</gz_frame_id>
      <camera name="intel_realsense_r200">
        <horizontal_fov>1.02974</horizontal_fov>
        <image>
          <width>640</width>
          <height>480</height>
          <format>R8G8B8</format>
        </image>
        <clip>
          <near>0.05</near>
          <far>200</far>
        </clip>
        <noise>
          <type>gaussian</type>
          <!-- Noise is sampled independently per pixel on each frame.
                  That pixel's noise value is added to each of its color
                  channels, which at that point lie in the range [0,1]. -->
          <mean>0.0</mean>
          <stddev>0.007</stddev>
        </noise>
      </camera>
    </sensor>
  </gazebo>
  <gazebo reference="lidar_link">
    <sensor name="hls_lfcd_lds" type="gpu_lidar">
      <always_on>true</always_on>
      <visualize>true</visualize>
      <pose>0 0 0.012 0 -0 0</pose>
      <update_rate>10</update_rate>
      <topic>scan</topic>
      <gz_frame_id>lidar_link</gz_frame_id>
      <lidar>
        <scan>
          <horizontal>
            <samples>360</samples>
            <resolution>1.000000</resolution>
            <min_angle>0.000000</min_angle>
            <max_angle>6.280000</max_angle>
          </horizontal>
        </scan>
        <range>
          <min>0.160000</min>
          <max>10.0</max>
          <resolution>0.015000</resolution>
        </range>
        <noise>
          <type>gaussian</type>
          <mean>0.0</mean>
          <stddev>0.01</stddev>
        </noise>
      </lidar>
    </sensor>
  </gazebo>
  <gazebo reference="base_link">
    <sensor name="ugv_imu" type="imu">
      <always_on>true</always_on>
      <update_rate>20</update_rate>
      <topic>imu</topic>
      <gz_frame_id>base_link</gz_frame_id>
      <imu>
        <angular_velocity>
          <x>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>2e-4</stddev>
            </noise>
          </x>
          <y>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>2e-4</stddev>
            </noise>
          </y>
          <z>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>2e-4</stddev>
            </noise>
          </z>
        </angular_velocity>
        <linear_acceleration>
          <x>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>1.7e-2</stddev>
            </noise>
          </x>
          <y>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>1.7e-2</stddev>
            </noise>
          </y>
          <z>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>1.7e-2</stddev>
            </noise>
          </z>
        </linear_acceleration>
      </imu>
    </sensor>
  </gazebo>
</robot>
